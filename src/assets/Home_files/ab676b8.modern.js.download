(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1068:function(e,t,o){var content=o(1192);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(40).default)("07bcde14",content,!0,{sourceMap:!1})},1150:function(e,t,o){"use strict";var r={props:{value:{type:Boolean,default:!1}},data(){return{checked:this.value}},watch:{value(e){this.checked=e}},methods:{onChange(e){this.$emit("input",this.checked)}}},l=(o(1191),o(9)),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"toggleSwitch"},[t("label",{class:e.checked?"toggleChecked":""},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:[function(t){var o=e.checked,r=t.target,l=!!r.checked;if(Array.isArray(o)){var n=e._i(o,null);r.checked?n<0&&(e.checked=o.concat([null])):n>-1&&(e.checked=o.slice(0,n).concat(o.slice(n+1)))}else e.checked=l},e.onChange]}})])])}),[],!1,null,null,null);t.a=component.exports},1154:function(e,t,o){e.exports=o.p+"img/Rectangle.f298e95.png"},1165:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var r=["#00C6FF","#66CCFF","#52CC99","#FF6699","#FFBF66","#FF8066","#767FAD","#FFFFFF"]},1176:function(e,t,o){e.exports=o.p+"img/plus-picker.01c5e9f.png"},1191:function(e,t,o){"use strict";o(1068)},1192:function(e,t,o){var r=o(39)(!1);r.push([e.i,".toggleSwitch label{display:block;position:relative;margin:0;cursor:pointer}.toggleSwitch label input[type='checkbox']{display:none}.toggleSwitch label:before{display:block;content:'' !important;width:36px;height:20px;background:#B4BAD6;border-radius:15px;border:none;margin:0;transition:0.22s background}.toggleSwitch label:after{content:'' !important;display:block;width:16px;height:16px;border-radius:15px;position:absolute;top:2px;left:2px;box-shadow:0 0 8px #8F95B3;background:#fff;transition:0.22s margin-left}.toggleSwitch label.toggleChecked:before{background:#24A8AF}.toggleSwitch label.toggleChecked:after{background:white;margin-left:calc(100% - 20px)}\n",""]),e.exports=r},1277:function(e,t,o){e.exports=o.p+"img/exclusive.3903553.png"},2069:function(e,t,o){"use strict";var r=o(7),l=o(11),n=(o(214),o(27),o(42),o(22)),c=o.n(n),h=o(1404),d=o.n(h),m=o(1405),y=o.n(m),v=o(55),S=o.n(v),x=o(132),f=o.n(x),svg=o(1078),w=o.n(svg),C=o(1064),T=o(1022),k=o(24),P=o(63),H=(o(47),o(29),o(31),o(333));var z=o(2122),O=o.n(z),$=o(1129),j={colorsinspo:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={tab:e.tab,colors:e.colors.map((e=>e.hex)),brandPaletteId:e.selectedPalette?e.selectedPalette.id:null},{palette:r}=t;"re-color"!==o.tab&&(e.tab="re-color");var l=Object($.b)(e.colors.map((e=>e.originalHex)),r.colors);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,l[o]),e.colors[o].hex=l[o],e.colors[o].lastHex=l[o]})),e.$store.dispatch("brandPalettes/setSelected",null),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tab=t.tab,e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},brandPalette:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,colors:e.colors.map((e=>e.hex)),brandColorApplied:e.brandColorApplied},{palette:r}=t;e.$store.dispatch("brandPalettes/setSelected",r.id);var l=Object($.b)(e.colors.map((e=>e.originalHex)),r.colors);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,l[o]),e.colors[o].hex=l[o]})),e.brandColorApplied=!0,o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId),e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.brandColorApplied=t.brandColorApplied}},resetBrandPalette:{execute(e){var t={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,brandColorApplied:e.brandColorApplied},o=O()(e.history,(e=>"brandPalette"===e.command));if(o){var r=o.prevState.colors;e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,r[o]),e.colors[o].hex=r[o]})),e.$store.dispatch("brandPalettes/setSelected",null),e.brandColorApplied=!1}return t},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.$store.state.brandPalettes.palettes.find((e=>e.id===t.brandPaletteId));o&&e.execute({command:"brandPalette",state:{palette:o},options:{skipHistory:!0}})}},fillColor:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{color:o,index:r}=t,l={tab:e.tab,color:e.colors[r].hex,index:r,brandPaletteId:e.selectedPalette?e.selectedPalette.id:null};return e.tab="re-color",e["fill".concat(e.colors[r].element,"Color")](e.colors[r].originalHex,o.hex),e.colors[r].hex=o.hex,e.colors[r].lastHex=o.hex,e.$store.dispatch("brandPalettes/setSelected",null),l},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tab=t.tab,e["fill".concat(e.colors[t.index].element,"Color")](e.colors[t.index].originalHex,t.color),e.colors[t.index].hex=t.color,e.colors[t.index].lastHex=t.color,e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},tab:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={showTileTab:e.showTileTab,tab:e.tab,colors:e.colors.map((e=>e.hex)),brandPaletteId:e.brandColorApplied&&e.selectedPalette?e.selectedPalette.id:null},{tab:r}=t;if(e.showTileTab=!1,e.tab===r)e.tab=null;else switch(e.tab=r,r){case"re-color":if(o.brandPaletteId){var l=e.$store.state.brandPalettes.palettes.find((p=>p.id===o.brandPaletteId));l&&e.execute({command:"brandPalette",state:{palette:l},options:{skipHistory:!0}}),e.$store.dispatch("brandPalettes/setSelected",o.brandPaletteId)}else e.execute({command:"reColor",state:{colors:e.colors.map((e=>e.lastHex))},options:{skipHistory:!0}});break;case"monochrome":e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.monochromeSaturation},options:{skipHistory:!0}});break;case"grayTone":e.execute({command:"grayTone",state:{hue:e.grayToneHue,saturation:e.grayToneSaturation},options:{skipHistory:!0}})}return o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.showTileTab=t.showTileTab,e.tab=t.tab,e.tab){case"re-color":if(t.brandPaletteId){var o=e.$store.state.brandPalettes.palettes.find((p=>p.id===t.brandPaletteId));o&&e.execute({command:"brandPalette",state:{palette:o},options:{skipHistory:!0}}),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}else e.execute({command:"reColor",state:{colors:t.colors},options:{skipHistory:!0}});break;case"monochrome":e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.monochromeSaturation},options:{skipHistory:!0}});break;case"grayTone":e.execute({command:"grayTone",state:{hue:e.grayToneHue,saturation:e.grayToneSaturation},options:{skipHistory:!0}});break;case null:e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]}))}}},tileTab:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={tab:e.tab,showTileTab:e.showTileTab,tileType:e.tileType},{tab:r,showTileTab:l}=t;return e.tab=r,e.showTileTab=l,l&&"none"===e.tileType.name&&e.execute({command:"tileType",state:{tile:e.tile,tileType:e.tiles[1],tileBorderRadius:e.tileBorderRadius,iconSize:e.iconSize,tileSize:e.tileSize},options:{skipHistory:!0}}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tab=t.tab,e.showTileTab=t.showTileTab,e.execute({command:"tileType",state:{tile:e.tile,tileType:t.tileType,tileBorderRadius:e.tileBorderRadius,iconSize:e.iconSize,tileSize:e.tileSize},options:{skipHistory:!0}})}},reColor:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r],e.colors[r].lastHex=t.colors[r]})),e.selectedPalette&&e.$store.dispatch("brandPalettes/setSelected",e.selectedPalette.id)},undo(){}},monochrome:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{hue:o,showCustomSaturation:r,saturation:l}=t,n={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,colors:e.colors.map((e=>e.hex)),hue:e.monochromeHue,saturation:e.monochromeSaturation,showCustomSaturation:r};e.monochromeHue=o,e.showCustomSaturation=r,r&&(e.monochromeSaturation=l);var c=Object($.a)(e.colors.map((e=>e.lastHex)),o,r?l:null);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,c[o]),e.colors[o].hex=c[o]})),n},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.monochromeHue=t.hue,e.showCustomSaturation=t.showCustomSaturation,t.showCustomSaturation&&(e.monochromeSaturation=t.saturation),e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},toggleMonochromeSaturation:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={showCustomSaturation:e.showCustomSaturation},{showCustomSaturation:r}=t;return e.showCustomSaturation=!r,e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.showCustomSaturation?e.monochromeSaturation:null},options:{skipHistory:!0}}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.showCustomSaturation=t.showCustomSaturation,e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.showCustomSaturation?e.monochromeSaturation:null},options:{skipHistory:!0}})}},grayTone:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,colors:e.colors.map((e=>e.hex)),hue:e.grayToneHue,saturation:e.grayToneSaturation},{hue:r,saturation:l}=t;e.grayToneHue=r,e.grayToneSaturation=l;var n=Object($.a)(e.colors.map((e=>e.lastHex)),e.grayToneHue,e.grayToneSaturation);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,n[o]),e.colors[o].hex=n[o]})),e.$store.dispatch("brandPalettes/setSelected",null),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.grayToneHue=t.hue,e.grayToneSaturation=t.saturation,e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},tileType:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={tile:e.tile,tileType:e.tileType,iconSize:e.iconSize,tileSize:e.tileSize,tileBorderRadius:e.tileBorderRadius},{tileType:r}=t;return B(e,t),e.execute({command:"iconSize",state:{scale:"none"===r.name?1:r.icon},options:{skipHistory:!0}}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tile&&e.tile.remove(),B(e,t),e.execute({command:"iconSize",state:{scale:"none"===t.tileType.name?1:t.iconSize},options:{skipHistory:!0}})}},iconSize:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={scale:e.iconSize},{scale:r}=t;return e.iconSize=Number(r),e.icon&&e.icon.transform({scale:r}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.iconSize=t.scale,e.icon&&e.icon.transform({scale:t.scale})}},tileSize:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={scale:e.tileSize},{scale:r}=t;return e.tileSize=Number(r),e.tile&&e.tile.transform({scale:r}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tileSize=t.scale,e.tile&&e.tile.transform({scale:t.scale})}},tileBorderRadius:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={radius:e.tileBorderRadius},{radius:r}=t;return e.tileBorderRadius=r,I(e,{radius:r}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tileBorderRadius=t.radius,I(e,{radius:t.radius})}},tileColor:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={color:e.tileColor},{color:r}=t;return e.tileColor=r,e.tile&&e.tile.fill(r),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tileColor=t.color,e.tile&&e.tile.fill(t.color)}}},B=(e,t)=>{var{tileType:o,tileSize:r}=t;switch(e.tile&&e.tile.remove(),e.tileType=o,o.name){case"none":e.tile=null;break;case"square":e.tile=e.draw.rect(e.canvasWidth,e.canvasHeight).radius(e.tileBorderRadius);break;case"squircle":var l=e.canvasWidth,n=l/2,c=l-5;e.tile=e.draw.path("M ".concat(n,",0 C ").concat(5,",0 0,").concat(5," 0,").concat(n," 0,").concat(c," ").concat(5,",").concat(l," ").concat(n,",").concat(l," ").concat(c,",").concat(l," ").concat(l,",").concat(c," ").concat(l,",").concat(n," ").concat(l,",").concat(5," ").concat(c,",0 ").concat(n,",0 Z"));break;case"circle":e.tile=e.draw.circle(e.canvasWidth,e.canvasHeight);break;case"beacon":e.tile=e.draw.group(),e.tile.circle(e.canvasWidth,e.canvasHeight),e.tile.rect(e.canvasWidth/2+e.tileBorderRadius,e.canvasHeight/2+e.tileBorderRadius).move(e.canvasWidth/2-e.tileBorderRadius,e.canvasHeight/2-e.tileBorderRadius).radius(e.tileBorderRadius)}e.tile&&e.tile.back(),e.execute({command:"tileSize",state:{scale:r},options:{skipHistory:!0}}),e.tile&&e.tile.back().fill(e.tileColor).transform({scale:e.tileSize})},I=(e,t)=>{var{radius:o}=t;if(e.tileType)if("square"===e.tileType.name)e.tile.radius(o);else if("beacon"===e.tileType.name){e.tile.select("rect").members[0].size(e.canvasWidth/2+o,e.canvasHeight/2+o).move(e.canvasWidth/2-o,e.canvasHeight/2-o).radius(o)}};function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function R(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var N,A,F,D={data:()=>({history:[],position:-1,holdState:null,disableTimeTravel:!1}),mounted(){window.addEventListener("keydown",this.keyEventHandler)},destroyed(){window.removeEventListener("keydown",this.keyEventHandler)},computed:{unDoable(){return!!(!this.disableTimeTravel&&this.history.length&&this.position>=0)},reDoable(){return!!(!this.disableTimeTravel&&this.history.length&&this.position<this.history.length-1)}},methods:{keyEventHandler(e){(e.ctrlKey||e.metaKey)&&"KeyZ"===e.code&&(e.preventDefault(),e.shiftKey?(this.reDoable&&this.$analytics.track("editor",{action:"redo",via:"keyboard"}),this.redo()):(this.unDoable&&this.$analytics.track("editor",{action:"undo",via:"keyboard"}),this.undo()))},set(e){this.position<this.history.length-1&&(this.history=this.history.slice(0,this.position+1)),this.history.push(e),this.history.length>40&&this.history.splice(1,1),this.position=this.history.length-1},setLazy:(N=function(e){this.position<this.history.length-1&&(this.history=this.history.slice(0,this.position+1));var t=this.holdState;return this.history.push(R(R({},e),{},{prevState:t})),this.history.length>40&&this.history.splice(1,1),this.position=this.history.length-1,this.holdState=null,Promise.resolve(t)},A=400,F=Object(H.debounce)(function(){var e=Object(r.a)((function*(e,t,o,r){try{e(yield N.bind(o)(...r))}catch(e){t(e)}}));return function(t,o,r,l){return e.apply(this,arguments)}}(),A),function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return new Promise(((e,o)=>{F(e,o,this,t)}))}),undo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.position>=0){var t=this.history[this.position];j[t.command].undo(this,t.prevState),e.silent||(this.position-=1)}},redo(){if(this.position<this.history.length-1){this.position+=1;var e=this.history[this.position];j[e.command].execute(this,e.state)}},execute(e){var t=this;return Object(r.a)((function*(){var{command:r,state:l={},options:n={}}=e;if(t.disableEditing){if(t.handleAuth())t.$modal.currentModal&&"modalEditorSubscribe"===t.$modal.currentModal.id||t.$modal.open({id:"modalEditorSubscribe",component:Promise.all([o.e(0),o.e(301)]).then(o.bind(null,3992)),options:{modalOnModal:!0}});else{var c=yield t.getSharableUrl();t.$router.replace({query:{redirect:c}})}return!1}return new Promise((e=>{var o=j[r].execute(t,l);n.skipHistory||(n.lazy?(t.holdState||(t.holdState=o),t.setLazy({command:r,state:l}).then((t=>{e({state:l,prevState:t})}))):(t.set({command:r,state:l,prevState:o}),e({state:l,prevState:o})))}))}))()},reset(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.position=-1,this.history=[],this.resetData(),this.$store.dispatch("brandPalettes/setSelected",null),this.$nextTick((()=>{e?this.initEditor(e):this.initSVG()}))}}};function W(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function M(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?W(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):W(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _=["g","path","polyline","polygon","circle","rect","circle","ellipse"],G="fill",L="fill",U="data-name",K=["line","g","path","polygon","circle","rect","circle","ellipse"],V=["stop"],J="stroke",Z="svgShape",Q={monochromeHue:200,monochromeSaturation:100,showCustomSaturation:!1,grayToneHue:200,grayToneSaturation:10,tileColor:"#87ddfd",tileBorderRadius:20,tileSize:.7916,iconSize:.4652,tab:null,showTileTab:!1};t.a={mixins:[P.a,D],data:()=>M({draw:null,colors:[],icon:null,tile:null,tileType:{name:"none"},original:null,originalContent:null,originalWidth:null,originalHeight:null,selectedColorIndex:null,showUploadOption:!0,tiles:[{name:"none",icon:1,shape:null},{name:"square",icon:.4652,shape:.7916},{name:"squircle",icon:.4652,shape:.7916},{name:"circle",icon:.4652,shape:.9167},{name:"beacon",icon:.4652,shape:.9167}]},Q),computed:{color:{get(){return null!==this.selectedColorIndex?this.colors[this.selectedColorIndex].hex:"#FFF"},set(e){this.execute({command:"fillColor",state:{color:e,index:this.selectedColorIndex},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"item-colors",action:"edit-color",prevColor:e.prevState.color,editedColor:e.state.color.hex})}))}},selectedPalette(){return this.$store.getters["brandPalettes/selectedPalette"]},disableEditing(){return this.urlState&&this.urlState.isPremium&&!this.hasPremiumSubscription&&!this.isLoading}},methods:{init(e){var t=this;return Object(r.a)((function*(){t.showUploadOption=!1,t.isLoading="initNew";var o=null;try{o=yield c()(e,{withCredentials:!1})}catch(e){t.$analytics.track("error-log",{place:"editor",url:window.location.href,itemId:t.item?t.item.id:null});var title="This file is having issue. Please report us.";throw t.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"}),new Error(title)}t.originalContent=o.data,t.original=yield Object(C.a)(t.originalContent),t.initSVG()}))()},initEditor(content){var e=this;return Object(r.a)((function*(){e.originalContent=content,e.isLoading="initNew",e.tab=null,e.showTileTab=!1,e.showUploadOption=!1,e.original=yield Object(C.a)(content),e.initSVG()}))()},initSVG(){var e=this;this.draw&&this.draw.remove(),this.draw=w()(this.id),this.draw.size(this.canvasWidth,this.canvasHeight),this.icon=this.draw.group();var t=this.icon.svg(this.original);if(this.originalWidth=t.get(0).attr("width"),this.originalHeight=t.get(0).attr("height"),this.icon.select("svg").size(this.canvasWidth,this.canvasHeight),this.tileType=this.tiles[0],this.draw.each((function(){if(t!==this){var data=this.attr(U);data&&this.attr(U,y()(data))}}),!0),e.colors=[],this.draw.select(_).each((function(){if(t!==this){var o=null;if(this.attr(L)&&"#000000"!==this.attr(L).trim()?o=this.attr(L):this.style(G)?o=this.style(G):this.attr(J)&&"#000000"!==this.attr(J).trim()||(o="#000"),d()(o)){this.style(G,null),this.attr(L,o);var r=e.generateClassName(o);this.addClass(r),this.addClass(Z),-1===S()(e.colors,{originalHex:o})&&e.colors.push({hex:o,lastHex:o,originalHex:o,className:r,element:"Shape"}),this.click((function(){e.selectColor(o)}))}}}),!0),this.draw.select(K).each((function(){if(t!==this){var o=null;if(this.attr(J)&&"#000000"!==this.attr(J).trim()&&(o=this.attr(J)),d()(o)){var r=e.generateStrokeClassName(o);this.addClass(r),this.addClass("svgStroke"),-1===S()(e.colors,{originalHex:o,element:"Stroke"})&&e.colors.push({hex:o,lastHex:o,originalHex:o,className:r,element:"Stroke"})}}})),this.draw.select(V).each((function(){if(t!==this){var o;if(o=this.attr("stop-color"),d()(o)){this.style(G,null),this.attr("stop-color",o);var r=e.generateGradientClassName(o);this.addClass(r),this.addClass(Z),-1===S()(e.colors,{originalHex:o,element:"StopColor"})&&e.colors.push({hex:o,lastHex:o,originalHex:o,className:r,element:"StopColor"})}}})),!this.colors.length)throw this.resetData(),this.showUploadOption=!0,new Error("This file is not supported.");S()(this.colors,{element:"StopColor"})>-1&&this.$analytics.track("editor",{type:"gradient",url:window.location.href,itemId:this.item?this.item.id:null}),this.initWithBrandColor&&this.selectedPalette&&!this.selectedPalette.is_default&&this.onApplyBrandPalette(this.selectedPalette),this.selectedColorIndex=0,this.tab="re-color",this.urlState&&(this.execute({command:"reColor",state:{colors:this.urlState.colors},options:{skipHistory:!0}}),this.monochromeHue=this.urlState.monochromeHue,this.monochromeSaturation=this.urlState.monochromeSaturation,this.showCustomSaturation=this.urlState.showCustomSaturation,this.grayToneHue=this.urlState.grayToneHue,this.grayToneSaturation=this.urlState.grayToneSaturation,this.tileColor=this.urlState.tileColor,this.tileBorderRadius=this.urlState.tileBorderRadius,this.tileSize=this.urlState.tileSize,this.iconSize=this.urlState.iconSize,this.tileType=this.urlState.tileType,this.urlState.tab&&this.execute({command:"tab",state:{tab:this.urlState.tab},options:{skipHistory:!0}}),this.tab=this.urlState.tab,this.showTileTab=this.urlState.showTileTab,this.execute({command:"tileType",state:{tile:this.tile,tileType:M(M({},this.urlState.tileType),{},{icon:this.urlState.iconSize}),tileBorderRadius:this.tileBorderRadius,iconSize:this.iconSize,tileSize:this.tileSize},options:{skipHistory:!0}}),this.urlState.downloadItem&&this.onDownload({format:this.urlState.downloadItem[0],size:this.urlState.downloadItem[1]})),this.isLoading=null},generateClassName:e=>"color"+e.replace(/[\W+]/g,""),generateStrokeClassName:e=>"colorStroke"+e.replace(/[\W+]/g,""),generateGradientClassName:e=>"stopColor"+e.replace(/[\W+]/g,""),fillShapeColor(e,t){this.draw.select("."+this.generateClassName(e)).fill(t)},fillStrokeColor(e,t){this.draw.select("."+this.generateStrokeClassName(e)).stroke(t)},fillStopColorColor(e,t){this.draw.select("."+this.generateGradientClassName(e)).attr({"stop-color":t})},selectColor(e){this.selectedColorIndex=S()(this.colors,{originalHex:e})},resetData(){f()(Q,((e,t)=>{this[t]=Q[t]}))},onChangeTab(e){this.execute({command:"tab",state:{tab:e}})},onToggleTileTab(){this.execute({command:"tileTab",state:{tab:null,showTileTab:!this.showTileTab}})},onChangeTileType(e){this.execute({command:"tileType",state:{tile:this.tile,tileType:e,tileBorderRadius:this.tileBorderRadius,iconSize:this.iconSize,tileSize:this.tileSize}})},onChangeTileSize(e){this.execute({command:"tileSize",state:{scale:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"add-tile",action:"edit-tile-size",scale:e.state.scale})}))},onChangeTileBorderRadius(e){this.execute({command:"tileBorderRadius",state:{radius:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"add-tile",action:"edit-border-radius",radius:e.state.radius})}))},onChangeTileColor(e){this.execute({command:"tileColor",state:{color:e.color},options:{lazy:!0}}).then((t=>{t&&this.$analytics.track("editor",{location:"add-tile",action:"edit-tile-color",color:t.state.color,via:e.via})}))},onChangeIconSize(e){this.execute({command:"iconSize",state:{scale:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"add-tile",action:"edit-icon-size",scale:e.state.scale})}))},onChangeMonochromeHue(e){this.execute({command:"monochrome",state:{hue:Number(e.hue),showCustomSaturation:this.showCustomSaturation,saturation:this.monochromeSaturation},options:{lazy:!0}}).then((t=>{t&&this.$analytics.track("editor",{location:"monochrome",action:"edit-hue",hue:t.state.hue,via:e.via})}))},onToggleCustomSaturation(){this.execute({command:"toggleMonochromeSaturation",state:{showCustomSaturation:this.showCustomSaturation}})},onChangeMonochromeSaturation(e){this.execute({command:"monochrome",state:{hue:this.monochromeHue,showCustomSaturation:this.showCustomSaturation,saturation:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"monochrome",action:"edit-saturation",saturation:e.state.saturation})}))},onChangeGrayToneHue(e){this.execute({command:"grayTone",state:{hue:Number(e.hue),saturation:this.grayToneSaturation},options:{lazy:!0}}).then((t=>{t&&this.$analytics.track("editor",{location:"grayTone",action:"edit-hue",hue:t.state.hue,via:e.via})}))},onChangeGrayToneSaturation(e){this.execute({command:"grayTone",state:{hue:this.grayToneHue,saturation:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"grayTone",action:"edit-saturation",saturation:e.state.saturation})}))},onApplyBrandPalette(e){this.execute({command:"brandPalette",state:{palette:e}})},onResetBrandColors(){this.execute({command:"resetBrandPalette"})},onApplyColorsinspo(e){this.history.length&&"colorsinspo"===this.history[this.history.length-1].command&&this.history[this.history.length-1].state.palette.id===e.id||this.execute({command:"colorsinspo",state:{palette:e}})},download(e,t,o){var l=arguments,n=this;return Object(r.a)((function*(){var r=l.length>3&&void 0!==l[3]?l[3]:0,h=l.length>4&&void 0!==l[4]?l[4]:null,d=l.length>5&&void 0!==l[5]?l[5]:"icon",m=l.length>6&&void 0!==l[6]&&l[6];try{var y=Object(k.b)("/api/v2/icon-editor"),v=yield c.a.post(y,{xml:e,name:t,format:o,width:r,height:r,item_id:h,asset:d,source:"web"});if(n.item&&Object(T.a)(M({uuid:n.item.uuid,format:o,licenseId:n.item.license_id,size:r},n.$store.getters["brandPalettes/selectedPalette"]&&{brandPaletteId:n.$store.getters["brandPalettes/selectedPalette"].id})),m)return v.data.response.url;window.location.href=v.data.response.download_url}catch(e){console.log(e)}}))()}}}}}]);
//# sourceMappingURL=ab676b8.modern.js.map